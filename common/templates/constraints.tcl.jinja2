# AUTOGENERATED

# All IP code required
{% for ip in ips %}
read_ip $IP_DIR/{{ ip }}/{{ ip }}.xci
{% endfor %}

# Module code and constraints
{% for block in fpga_blocks %}
    {# block module code #}
add_files $TOP_DIR/{{ block.module_path }}/hdl/
set_property FILE_TYPE "VHDL 2008" [get_files $TOP_DIR/{{ block.module_path }}/hdl/*.vhd]
add_files -quiet $TOP_DIR/{{ block.module_path }}/hdl_$PLATFORM/
set_property -quiet FILE_TYPE "VHDL 2008" [get_files -quiet $TOP_DIR/{{ block.module_path }}/hdl_$PLATFORM/*.vhd]
    {# MGT pin constraints #}
    {% for const in block.interfaceConstraints %}
add_files $TARGET_DIR/const/{{const}}
    {% endfor %}
    {# Module constraints #}
    {% for const in block.constraints %}
add_files $AUTOGEN/const/{{ block.name }}_{{ os.path.basename(const) }}
    {% endfor %}
{% endfor %}
