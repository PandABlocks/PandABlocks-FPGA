[.]
description: FMC 100MSPS 14bits 4-channel ADC module
entity: fmc_adc100m
type: io
interfaces: fmc_i fmc_io
constraints: const/fmc_adc100m.xdc const/fmc_adc100m_impl.xdc
ip: fmc_adc100m_ch_fifo ila_32x8K


############
# ADC Data #
############
[RAW_VAL1]
type: read int
description: Channel 1 current ADC raw value (SerDes output).

[RAW_VAL2]
type: read int
description: Channel 2 current ADC raw value (SerDes output).

[RAW_VAL3]
type: read int
description: Channel 3 current ADC raw value (SerDes output).

[RAW_VAL4]
type: read int
description: Channel 4 current ADC raw value (SerDes output).


#############
# FIFO data #
#############
[VAL1]
type: pos_out
description: Channel 1 FIFO data output.
scale: 3.05175781e-5
units: V

[VAL2]
type: pos_out
description: Channel 2 FIFO data output.
scale: 3.05175781e-5
units: V

[VAL3]
type: pos_out
description: Channel 3 FIFO data output.
scale: 3.05175781e-5
units: V

[VAL4]
type: pos_out
description: Channel 4 FIFO data output.
scale: 3.05175781e-5
units: V


###############################
# Analog Front-End parameters #
###############################
[CH1_INPUT_RANGE]
type: param enum
description: SSR control register for channel 1 (except Bit3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH2_INPUT_RANGE]
type: param enum
description: SSR control register for channel 2 (except Bit3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH3_INPUT_RANGE]
type: param enum
description: SSR control register for channel 3 (except Bit3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH4_INPUT_RANGE]
type: param enum
description: SSR control register for channel 4 (except Bit3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH1_TERM]
type: param enum
description: Select Channel 1 input termination. Controls Bit3 of Channel 1 SSR register.
0: High-Z
1: 50-Ohm

[CH2_TERM]
type: param enum
description: Select Channel 2 input termination. Controls Bit3 of Channel 2 SSR register.
0: High-Z
1: 50-Ohm

[CH3_TERM]
type: param enum
description: Select Channel 3 input termination. Controls Bit3 of Channel 3 SSR register.
0: High-Z
1: 50-Ohm

[CH4_TERM]
type: param enum
description: Select Channel 4 input termination. Controls Bit3 of Channel 4 SSR register.
0: High-Z
1: 50-Ohm


##########################
# Programmable Osc Si570 #
##########################
[OSC_ENABLE]
type: param uint 1
description: Si570 programmable oscillator output clock enable (active high).


################################
# ADC registers (LTC2174 chip) #
################################
[ADC_RESET]
type: write action
description: SPI write to register A0 (Reset) of the ADC. Controls Bit7 of register A0.

[ADC_TWOSCOMP]
type: param uint 1
description: SPI write to register A1 (Format and Power-Down) of the ADC. Controls Bit5 (0=Offset Binary, 1=Two's complement data format) and reset other bits of register A1 to 0.

[ADC_MODE]
type: param uint 255
description: SPI write to register A2 (Output Mode) of the ADC. Reset register A2 to 0x00 (2-lanes 16-bit serialization, 3.5mA LVDS output current).

[ADC_TEST_MSB]
type: param uint 255
description: SPI write to register A3 (Test pattern MSB) of the ADC. Bit 7 enables Test Pattern. Bits 5-0 = Test Pattern Data Bits TP13:TP8.

[ADC_TEST_LSB]
type: param uint 255
description: SPI write to register A4 (Test pattern LSB) of the ADC. Bits 7-0 = Test Pattern Data Bits TP7:TP0.

[ADC_SPI_READ_ADDR]
type: param uint 4
description: SPI read to ADC register whos address is specified by the written value (1 to 4).

[ADC_SPI_READ_VALUE]
type: read uint
description: Data value read in ADC register whos address was specified by ADC_SPI_READ_ADDR.


############################
# Offset DACs (MAX5442 x4) #
############################
[DAC_OFFSET_ENABLE]
type: param uint 1
description: Writing 1 enables the DAC outputs. Writing 0 clears the DAC output to code 32768 (V_dac = 0V).

[DAC_1_OFFSET]
type: param uint 65535
description: SPI write command to Channel 1 Offset DAC input register. (code 0x0 to 0xFFFF for V_dac from -5V to +5V).

[DAC_2_OFFSET]
type: param uint 65535
description: SPI write command to Channel 2 Offset DAC input register. (code 0x0 to 0xFFFF for V_dac from -5V to +5V).

[DAC_3_OFFSET]
type: param uint 65535
description: SPI write command to Channel 3 Offset DAC input register. (code 0x0 to 0xFFFF for V_dac from -5V to +5V).

[DAC_4_OFFSET]
type: param uint 65535
description: SPI write command to Channel 4 Offset DAC input register. (code 0x0 to 0xFFFF for V_dac from -5V to +5V).



#############################
# SERDES Control and Status #
#############################
[SERDES_RESET]
type: param uint 1
description: SerDes reset when SERDES_RESET set to 1, in normal operation when set to 0.

[REFCLK_LOCKED]
type: read uint
description: Indicate that 200 MHz REFCLK PLL for IDELAYCTRL is locked.

[IDELAY_LOCKED]
type: read uint
description: Indicate that IDELAYE2 modules are calibrated.

[SERDES_SYNCED]
type: read uint
description: Indication that SERDES output is locked to frame start pattern.


##########################
# SERDES Bitslip monitor #
##########################
[BITSLIP_MONITOR]
type: bit_mux
description: Enables Bitslip monitoring. Writing 0 resets the Bitslip Error output.

[BITSLIP_ERROR]
type: read uint
description: Bitslip rising edge detected during bitslip monitoring.


#####################
# Pattern Generator #
#####################
[PATGEN_RESET]
type: param uint 1
description: Resets the Pattern Generator output to zero.

[PATGEN_ENABLE]
type: param uint 1
description: Enables the Pattern Generator output counter.

[PATGEN_PERIOD]
type: param uint
description: Pattern Generator counter period. Integer multiple of adc_clk timebase (10 ns).


########################
# FIFO input selection #
########################
[FIFO_INPUT_SEL]
type: param uint 2
description: FIFO input selection : Serdes output (0) offset gain correction output (1) Pattern Generator output (2).


######################################
# Gain Offset Saturation parameters  #
######################################
[GAIN1]
type: param uint 65535
description: Gain for Channel 1. The gain register takes a 16-bit fixed-point value (UFix_16_15).

[GAIN2]
type: param uint 65535
description: Gain for Channel 2. The gain register takes a 16-bit fixed-point value (UFix_16_15).

[GAIN3]
type: param uint 65535
description: Gain for Channel 3. The gain register takes a 16-bit fixed-point value (UFix_16_15).

[GAIN4]
type: param uint 65535
description: Gain for Channel 4. The gain register takes a 16-bit fixed-point value (UFix_16_15).


[OFFSET1]
type: param int
description: Offset for Channel 1. The offset register takes a 16-bit signed (two's complement) value.

[OFFSET2]
type: param int
description: Offset for Channel 2. The offset register takes a 16-bit signed (two's complement) value.

[OFFSET3]
type: param int
description: Offset for Channel 3. The offset register takes a 16-bit signed (two's complement) value.

[OFFSET4]
type: param int
description: Offset for Channel 4. The offset register takes a 16-bit signed (two's complement) value.


[SAT1]
type: param uint 32767
description: Saturation for Channel 1.

[SAT2]
type: param uint 32767
description: Saturation for Channel 2.

[SAT3]
type: param uint 32767
description: Saturation for Channel 3.

[SAT4]
type: param uint 32767
description: Saturation for Channel 4.



####################
# External Trigger #
####################
[EXT_TRIG]
type: bit_out
description: External Trigger input value


