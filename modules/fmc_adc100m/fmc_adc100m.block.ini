[.]
description: FMC 100MSPS 14bits 4-channel ADC module
entity: fmc_adc100m
type: io
interfaces: fmc_i fmc_io
constraints: const/fmc_adc100m.xdc const/fmc_adc100m_impl.xdc
ip: fmc_adc100m_ch_fifo ila_32x8K


############
# ADC Data #
############
[RAW_VAL1]
type: read
description: Channel 1 current ADC raw value (SerDes output) in signed 16-bit (two's complement) format.

[RAW_VAL2]
type: read
description: Channel 2 current ADC raw value (SerDes output) in signed 16-bit (two's complement) format.

[RAW_VAL3]
type: read
description: Channel 3 current ADC raw value (SerDes output) in signed 16-bit (two's complement) format.

[RAW_VAL4]
type: read
description: Channel 4 current ADC raw value (SerDes output) in signed 16-bit (two's complement) format.


#############
# FIFO data #
#############
[VAL1]
type: pos_out
description: Channel 1 FIFO data output in signed 16-bit (two's complement) format.
scale: 3.05175781e-5
units: V

[VAL2]
type: pos_out
description: Channel 2 FIFO data output in signed 16-bit (two's complement) format.
scale: 3.05175781e-5
units: V

[VAL3]
type: pos_out
description: Channel 3 FIFO data output in signed 16-bit (two's complement) format.
scale: 3.05175781e-5
units: V

[VAL4]
type: pos_out
description: Channel 4 FIFO data output in signed 16-bit (two's complement) format.
scale: 3.05175781e-5
units: V


###############################
# Analog Front-End parameters #
###############################
[CH1_INPUT_RANGE]
type: param enum
description: SSR control register for channel 1 (except bit 3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH2_INPUT_RANGE]
type: param enum
description: SSR control register for channel 2 (except bit 3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH3_INPUT_RANGE]
type: param enum
description: SSR control register for channel 3 (except bit 3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH4_INPUT_RANGE]
type: param enum
description: SSR control register for channel 4 (except bit 3). Controls input voltage range and DC offset error calibration.
35: 100mV_range
17: 1V_range
69: 10V_range
0:  open
66: 100mV_range_cal
64: 1V_range_cal
68: 10V_range_cal

[CH1_TERM]
type: param enum
description: Select Channel 1 input termination. Controls bit 3 of Channel 1 SSR register.
0: High-Z
1: 50-Ohm

[CH2_TERM]
type: param enum
description: Select Channel 2 input termination. Controls bit 3 of Channel 2 SSR register.
0: High-Z
1: 50-Ohm

[CH3_TERM]
type: param enum
description: Select Channel 3 input termination. Controls bit 3 of Channel 3 SSR register.
0: High-Z
1: 50-Ohm

[CH4_TERM]
type: param enum
description: Select Channel 4 input termination. Controls bit 3 of Channel 4 SSR register.
0: High-Z
1: 50-Ohm


##########################
# Programmable Osc Si570 #
##########################
[OSC_ENABLE]
type: param uint 1
description: Si570 programmable oscillator output clock enable (active high).


################################
# ADC registers (LTC2174 chip) #
################################
[ADC_RESET]
type: write action
description: SPI write to register A0. Always write 0x80 (Software Reset, automatically set back to 0).

[ADC_TWOSCOMP]
type: param uint 1
description: SPI write to register A1. Always write 0x00 except bit 5 (0=Offset Binary, 1=Two's complement data format).

[ADC_MODE]
type: param
description: SPI write to register A2. Always write 0x00 (2-lanes 16-bit serialization, 3.5mA LVDS output current).

[ADC_TEST_MSB]
type: param
description: SPI write to register A3. Bit 7 enables Test Pattern. Bits 5-0 = Test Pattern Data Bits TP13:TP8.

[ADC_TEST_LSB]
type: param
description: SPI write to register A4. Bits 7-0 = Test Pattern Data Bits TP7:TP0.

[ADC_SPI_READ_ADDR]
type: param uint 4
description: SPI read to ADC register whos address is specified by the written value (1 to 4).

[ADC_SPI_READ_VALUE]
type: read uint 255
description: Data value read in ADC register whos address was specified by ADC_SPI_READ_ADDR.


############################
# Offset DACs (MAX5442 x4) #
############################
[DAC_OFFSET_ENABLE]
type: param uint 1
description: Writing 1 enables the DAC outputs. Writing 0 clears the DAC output to code 32768 (V_dac = 0V).

[DAC_1_OFFSET]
type: param
description: SPI write command to Channel 1 Offset DAC. (0x0 to 0xFFFF for V_dac from -5V to +5V).

[DAC_2_OFFSET]
type: param
description: SPI write command to Channel 2 Offset DAC. (0x0 to 0xFFFF for V_dac from -5V to +5V).

[DAC_3_OFFSET]
type: param
description: SPI write command to Channel 3 Offset DAC. (0x0 to 0xFFFF for V_dac from -5V to +5V).

[DAC_4_OFFSET]
type: param
description: SPI write command to Channel 4 Offset DAC. (0x0 to 0xFFFF for V_dac from -5V to +5V).


#############################
# SERDES Control and Status #
#############################
[SERDES_RESET]
type: param
description: SerDes reset. Connected to RST input of ISERDESE2 primitives.

[REFCLK_LOCKED]
type: read
description: Indicate that 200 MHz REFCLK PLL for IDELAYCTRL is locked.

[IDELAY_LOCKED]
type: read
description: Indicate that that IDELAYE2 modules are calibrated.

[SERDES_SYNCED]
type: read
description: Indication that SERDES output is locked to frame start pattern.


##########################
# SERDES Bitslip monitor #
##########################
[BITSLIP_MONITOR]
type: bit_mux
description: Enables Bitslip monitoring. Writing 0 resets the Bitslip Error output

[BITSLIP_ERROR]
type: read uint 1
description: Bitslip rising edge detected during bitslip monitoring


#####################
# Pattern Generator #
#####################
[PATGEN_RESET]
type: param uint 1
description: Resets the Pattern Generator output to zero

[PATGEN_ENABLE]
type: param uint 1
description: Enables the Pattern Generator output counter

[PATGEN_PERIOD]
type: param uint
description: Pattern Generator counter period. Integer multiple of adc_clk timebase (10 ns).


########################
# FIFO input selection #
########################
[FIFO_INPUT_SEL]
type: param uint 2
description: FIFO input selection : Serdes output (0) offset gain correction output (1) Pattern Generator output (2).


######################################
# Gain Offset Saturation parameters  #
######################################
[GAIN1]
type: param
description: Gain calibration for Channel 1. The format is 16-bit unsigned fixed-point (UFix_16_15).

[GAIN2]
type: param
description: Gain calibration for Channel 2. The format is 16-bit unsigned fixed-point (UFix_16_15).

[GAIN3]
type: param
description: Gain calibration for Channel 3. The format is 16-bit unsigned fixed-point (UFix_16_15).

[GAIN4]
type: param
description: Gain calibration for Channel 4. The format is 16-bit unsigned fixed-point (UFix_16_15).


[OFFSET1]
type: param
description: Offset calibration for Channel 1. The format is 16-bit signed (binary two's complement).

[OFFSET2]
type: param
description: Offset calibration for Channel 2. The format is 16-bit signed (binary two's complement).

[OFFSET3]
type: param
description: Offset calibration for Channel 3. The format is 16-bit signed (binary two's complement).

[OFFSET4]
type: param
description: Offset calibration for Channel 4. The format is 16-bit signed (binary two's complement).


[SAT1]
type: param
description: Saturation value for Channel 1. The format is 15-bit unsigned.

[SAT2]
type: param
description: Saturation value for Channel 2. The format is 15-bit unsigned.

[SAT3]
type: param
description: Saturation value for Channel 3. The format is 15-bit unsigned.

[SAT4]
type: param
description: Saturation value for Channel 4. The format is 15-bit unsigned.



####################
# External Trigger #
####################
[EXT_TRIG]
type: bit_out
description: External Trigger input value


